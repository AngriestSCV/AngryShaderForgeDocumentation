{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Angry Shader Forge DocumentationClick to Find the Product on GumroadJoin The AngryLabs Discord","text":"<p>Angry Shader Forge (ASF) is a tool for Unity that helps you author your own shader modules that integrate into Poiyomi Pro. While the final shader is a composite work and can't be freely distributed due to including Poiyomi's code the generated modules themselves are yours to use and distribute as you see fit.</p> <p>The initial release video contains enough to get you started.</p> <p> </p> <p> </p>"},{"location":"#requirements","title":"Requirements","text":"<p>Poiyomi 8 pro is required. The free version does not provide the required files and it will not be supported in the foreseeable future</p> <p>While not an actually requirement AudioLink from the Vrchat Creator Companion is highly recommended.</p>"},{"location":"#building-a-module","title":"Building A Module","text":""},{"location":"#pre-building","title":"Pre Building","text":"<p>The best way to use this tool is to find a slider or number that already exists in Poiyomi that you want to modify. Remember that you can sample from textures, sample audio link, write arbitrary logic. Your creativity is the limit.  </p> <p>After a target has been selected right click the item in the inspector and enable animation.  Then right click it again and right click \"Copy Property Name\" to copy the property name to your clipboard.</p> <p>Next right click in the project view that contains your files and go to <code>Create &gt; AngryLabs &gt; Angry Shader Forge &gt; Poiyomi Module</code>  This will create a new angrySF file that you can name. Double click it after selecting a name; this will open the module editor window or if one is already open it will open the new module in the existing window.</p> <p>Find the existing <code>Output</code> node and paste your property name into it's upper text area. Click the <code>Add Property</code> button to add this property as an available output. At this point you are ready to move on to building your shader module.</p>"},{"location":"#nodes","title":"Nodes","text":"<p>Nodes are made and edited in their own editor that comes with the tool. With it you connect them together to build up a module.  It also includes an integrated module builder, installer,  and shader generator.</p>"},{"location":"#shader-build-process","title":"Shader Build Process","text":"<p>There are 2 ways to build your module. The first is with the <code>Full Send</code> button that you can find near the top. This will build your module, make a copy of the modular shader that you have input, install your module, generate the final shader, and post process the shader.  After this you can use your shader and the module you built will be available.</p> <p>The second way is to open the Advanced panel by toggling on the Advanced Options control. This lists all of the steps required to build a shader. They each have a name and a tooltip. The full send button essentially clicks them one at a time and stops if one reports an error.</p>"},{"location":"changelog/","title":"Versions","text":""},{"location":"changelog/#v-15x-vertex-stage-support","title":"v 1.5.x Vertex Stage support","text":"<ul> <li>Added range to float properties</li> <li>Added Vertex Normal output node</li> <li>Added Vertex Normal input node</li> <li>Added Vertex Position input node</li> <li>Added Vertex Position output node</li> <li>Added Vertex Position node</li> <li>Added One Minus node</li> <li>Added Property feature for float range</li> <li>Added Property feature property drawers.</li> <li> <p>Added Graph Editor documentation.</p> </li> <li> <p>Updated loading to make loading more reliable.</p> </li> <li>Introduced concept for Vertex vs Fragment code</li> <li>Added errors for using invalid nodes in the wrong context</li> <li>Fixed bug where removing the active AngrySF module from the graph editor would leave it in an odd state</li> </ul>"},{"location":"changelog/#internal-details","title":"Internal Details","text":"<ul> <li>Now uses UnityContainer dependency injection (not related to Unity Engine despite the name)</li> <li>Updated namespaces in C#</li> </ul>"},{"location":"changelog/#v-140-preview-node","title":"v 1.4.0 Preview node","text":"<ul> <li>Added Preview Node</li> </ul>"},{"location":"changelog/#v-130-proximity-camera-distance","title":"v 1.3.0 Proximity / Camera Distance","text":"<ul> <li>Added Camera Distance support</li> <li>Renamed full send button</li> </ul>"},{"location":"changelog/#v-120-masks-and-read-property","title":"v 1.2.0 Masks and Read Property","text":"<ul> <li>Added Global Mask support </li> <li>Added Read Property support</li> <li>Fixed Nodes with types selectable from a Popup from showing up incorrectly.</li> <li>Replaced code that should not be publicly accessible (in the C# sense) with a public call to AddPort   This refactoring should result in fewer graphical issues with nodes.</li> </ul>"},{"location":"changelog/#v-111-atan2","title":"v 1.1.1 Atan2","text":"<p>Added Atan2 and fixed the split node</p>"},{"location":"changelog/#v-102-initial-release","title":"v 1.0.2 Initial release","text":"<p>The initial release. </p>"},{"location":"core-concept/","title":"Deep Dive","text":""},{"location":"core-concept/#understanding-the-angry-shader-forge-conecept","title":"Understanding the Angry Shader Forge conecept","text":""},{"location":"core-concept/#modular-shaders","title":"Modular Shaders","text":"<p>Poiyomi 8 is built using the  Modular Shader System which is the key to this working. This enables creating a small snippet of functionality and essentially lets you copy paste it into the larger shader at generation time. </p>"},{"location":"core-concept/#thryeditor","title":"ThryEditor","text":"<p>This is a tool avaliable freely on github that forms the core of the Poiyomi shader lock system. This step optimize your shader by rewriting it and inlining some variables.  This can be a problem for us as after these values are inlined we can no longer modify them with our modules.  Animating a property prevents inlining and allows us to modify the value. Failure to do so with result in either a failed shader (pink) or a shader that just does not do what you expected when locked, but works fine when the shader is unlocked.</p>"},{"location":"core-concept/#poiyomis-shader","title":"Poiyomi's Shader","text":"<p>When using Poiyomi 8 pro you have access to the shader modules that are used in the development of the shader. This gives us access to the \"Modular Shader System\" bits that we need to inject new code directly into the shader using the same tools used to create the main shader. </p>"},{"location":"core-concept/#angry-shader-forge-module","title":"Angry Shader Forge Module","text":"<p>Angry Shader Forge generates <code>ShaderModules</code> in a format that is compatible with Poiyomi's shader. A module is compiled into a list of commands starting at the Output working back. This includes mangling the names of the shader variables so that they do not conflict with any other variables from other modules even if the names appear the same in the UI.</p> <p>The end result of this is that the property named in the Output module is changed at a stage in the Poiyomi shader before much has happened. This in essence allows you to have per pixel and per frame control over almost all values in the Poiyomi shader. </p> <p>Of note is that since we are modifying these values they must be animated.  The shader locking process described above will inline these properties and prevent this tool from working if they are not animated.  At this time the tool can not assist in ensure that things are locked when they should be.</p>"},{"location":"examples/","title":"Examples","text":"<p>Below is a breakdown of some of the examples in the package. Feel free to open the images into a new tab to get a better look.</p>"},{"location":"examples/#rim-light-color","title":"Rim Light Color","text":"<p>The following example graph audio links the rim light color between 2 values</p> <p> </p> <p>In this example we are defining 2 color properties, red and yellow, that will be mixed/lerped between based on audio link. There is an additional term in the lower left that adds to the value to get the default state of the music in the demo closer to the crossover for visual interest.</p> <p>As we can see the properties panel provides easy access to those values.</p> <p>Node that this example could have just as easily worked on any given color value in the shader, but rim light color was chosen as it is not possible to audio link it today.</p>"},{"location":"examples/#disolve-color","title":"Disolve color","text":"<p>This example shows using a gradient texture sampling.</p> <p> </p> <p>In this example we are using the max of the lower channels in audio link to sample a gradient texture. This enables us to change the rate of change and colors that will be used in the shader easily without rebuilding anything. Clicking on the large image bar will open up the gradient editor that comes with Poiyomi. Of note is that the textures may not be stored where you expect with his tool so be sure to move them to an appropriate directory.</p>"},{"location":"examples/#raw-text","title":"Raw Text","text":"<p>This example has no properties, but it shows how to use the raw text node. This node allows you in input raw shader code that will be inserted into the module and integrate with the rest of the node based system. </p> <p>If you look closely you will see <code>{{rock}}</code> and <code>{{pop}}</code>. These strings will be replaced with appropriately name mangled versions when the module is built. Using <code>rock</code> or <code>pop</code> without the double brackets would have resulted in a compiler error. Semi-colons are also required at the ends of lines.</p>"},{"location":"examples/#voronoi","title":"Voronoi","text":"<p>We have quite a bit going on here. We are assigning the Outer Voronoi nodes to a color we sample from a texture, and we are audio linking the Scale and Power values for the Voronoi section.  This showcases the ability to operate on many values at once in a single modules.</p>"},{"location":"examples/#hue-shifting","title":"Hue Shifting","text":"<p>This example showcases some dynamic decisions not normally available. Here we have the hue shift amount acting different under audio link and non audio link situations. To properly see this one you will need to enable and disable the audio link provider in your scene. Without audio link the rainbow caused by hue shifting slowly moves up and down the capsule. With audio link it stops moving at idle and is instead driven by the low's in the song.  This leads to an interesting effect when there is no audio link and a different one that is obviously driven by audio when it is possible.</p>"},{"location":"graph-editor-overview/","title":"UI Overview","text":"<p>This is the UI for the graph module editor.</p> <p>The editor is broken into 2 main parts.  The control panel at the top and the graph at the bottom.</p>"},{"location":"graph-editor-overview/#control-panel","title":"Control Panel","text":"<p>The control panel is a list of important configuration for the module as a whole. This control can be further broke down into two main components.  The base controls and the advanced controls.</p>"},{"location":"graph-editor-overview/#base-controls","title":"Base Controls","text":""},{"location":"graph-editor-overview/#graph-seralization-asset","title":"Graph Seralization Asset","text":"<p>This is your current AngrySF module that you are editing.  Changing this will replace the graph and many other fields to match this AngrySF file.</p>"},{"location":"graph-editor-overview/#modular-shader","title":"Modular Shader","text":"<p>This is the shader that your module will be installed into. While modules don't need to be tied to a shader to exist the AngrySF system requires  post processing of the Poiyomi shader after the module has been installed.  This field ensures that it can be handled automatically.</p>"},{"location":"graph-editor-overview/#output-path","title":"Output Path","text":"<p>This is the path that your module and its supporting files will be written to when they are generated.</p>"},{"location":"graph-editor-overview/#output-module-name","title":"Output Module Name","text":"<p>This is the name of the module that you are generating.  Note that this field automatically filters some letters and symbols from it as it is used in some contexts where that is required.</p>"},{"location":"graph-editor-overview/#graph","title":"Graph","text":"<p>For documentation of each node visit the Node documentation</p> <p>This is the main control that you will build your module in.</p>"},{"location":"graph-editor-overview/#controling-hotkeys","title":"Controling / Hotkeys","text":""},{"location":"graph-editor-overview/#left-click","title":"Left Click","text":"<p>Selects nodes. You can drag for further selection.</p>"},{"location":"graph-editor-overview/#right-click","title":"Right Click","text":"<p>Opens the context menu.</p>"},{"location":"graph-editor-overview/#copypaste","title":"Copy/Paste","text":"<p>Control-C and Control-V will copy and paste the current selection.</p>"},{"location":"graph-editor-overview/#spacebar","title":"Spacebar","text":"<p>Opens the node add window directly.</p>"},{"location":"nodes/","title":"All Nodes","text":""},{"location":"nodes/#compare-nodes","title":"Compare Nodes","text":""},{"location":"nodes/#max-min","title":"Max / Min","text":"<p>Returns the smaller or larger of the inputs. Each component of the input is operated on separately.</p>"},{"location":"nodes/#lerpmixblend","title":"Lerp/Mix/Blend","text":"High detail lerp docs Here <p>Lerp between A and B inputs.</p> <p>Lerp is a linear interpolation between the first 2 elements.  This node is excellent for smoothly picking between values in a range, or selecting one of 2 inputs.</p> <p>See the link above for a detailed breakdown of exactly how this node works.</p>"},{"location":"nodes/#step","title":"Step","text":"<p>If b &gt; a return 1. Otherwise return 0.</p>"},{"location":"nodes/#smoothstep","title":"SmoothStep","text":"<p>If X &lt; Edge 1 return Edge 1. If X &gt; Edge 2 return Edge 2. Otherwise return a smoothly changing value between the two edges.</p>"},{"location":"nodes/#greater-than-less-than","title":"Greater Than &amp;  Less Than","text":"<p>Returns 1 if the condition is met. 0 otherwise. </p>"},{"location":"nodes/#math-nodes","title":"Math Nodes","text":""},{"location":"nodes/#vector-length","title":"Vector Length","text":"<p>Get the Euclidean length of the vector using the same logic found in the Pythagorean theorem.</p>"},{"location":"nodes/#add-subtract-multiply-divide","title":"Add / Subtract / Multiply / Divide","text":"<p>These math nodes preform basic math on their inputs.  The ports are always the same type and each operation takes place independently  on the components of the inputs.</p>"},{"location":"nodes/#trivial-math-functions","title":"Trivial Math functions","text":"<p>These take in one value and output one value. They all operate component wise meaning that x,y,z, and w are all operated on independently. To save space these nodes won't get an image.</p> <ul> <li>Absolute Value: Multiply negative values by -1 to make them positive</li> <li>Ceiling: Find the next largest integer for a non integer value. For instance 1.4 becomes 2. -1.4 becomes -1</li> <li>Exponential2: raise 2 to the Nth power where N is the input value.</li> <li>Exponential: raise e (approximately 2.718281) to the Nth power where N is the input value.</li> <li>Floor: Find the next smallest integer for a non integer value. For instance 1.4 becomes 1. -1.4 becomes -2</li> <li>Fraction: Discard the non fractional part of a value. 2.4 becomes 0.4</li> <li>LogrithmBase10: Returns the Log base 10 of the input value</li> <li>LogrithmBase2: Returns the Log base 2 of the input value</li> <li>NaturalLogarithm: Returns the Log base e (approximately 2.718281) of the input value</li> <li>Round: Round the input to the nearest whole number. 1.4 becomes 1. Note that   for values exceptionally close to 0.5 you should look into rounding modes and   understand that graphics cards are not always perfectly accurate in their   math. Rounding Wikipedia </li> <li>Saturate: Clamps the values between 0 and 1.0</li> <li>Truncate: Discard the fractional part of a number. You can think of this as rounding toward zero</li> </ul>"},{"location":"nodes/#one-minus","title":"One Minus","text":"<p>This node subtracts 1 from each component of the input. Think of this as 1.0 - Input</p>"},{"location":"nodes/#vector-scale","title":"Vector Scale","text":"<p>This multiplies the vector by the input scale equally in all directions.</p>"},{"location":"nodes/#misc","title":"Misc","text":""},{"location":"nodes/#hsv-to-rgb","title":"HSV To RGB","text":""},{"location":"nodes/#rgb-to-hsv","title":"RGB To HSV","text":"<p>Convert between (Hue Saturation Value Alpha) and (Red Green Blue Alpha)</p>"},{"location":"nodes/#combine-xyzw","title":"Combine XYZW","text":"<p>Combine several nodes into one value. Missing Values will be replaced with 0.</p>"},{"location":"nodes/#zero-extend","title":"Zero Extend","text":"<p>Extend the input to contain more values. Missing values will be replaced with 0</p>"},{"location":"nodes/#split","title":"Split","text":"<p>This node splits a multi component input into parts. The outputs dynamically change to match the available  ones in the input.</p>"},{"location":"nodes/#raw-text","title":"Raw Text","text":"<p>This node allows raw shader code to be injected.  </p> <p>The top section allows you to add inputs and outputs. These values will be initialized before your code runs. The next section is a multi line text box that allows you to enter your own code. Instead of using the variables you requested wrap them in braces like <code>{{this}}</code>. This will cause your variables to have their names mangled to match the values actually present in the shader.</p> <p>In the example above the value Bang is replaced with Clang.xyxy.</p> <p>Note that when this is used with the Preview Node you will often have a broken shader while you are typing. This is to be expected and the shader is recreated every time you update the text.</p>"},{"location":"nodes/#identityrelay","title":"Identity/Relay","text":"<p>This node has no meaning to the generated shader.  It allows for better routing and organization of the node tree.</p>"},{"location":"nodes/#input","title":"Input","text":""},{"location":"nodes/#time","title":"Time","text":"<p>Returns the number of seconds since the world loaded. This is not synced.</p>"},{"location":"nodes/#property","title":"Property","text":"<p>Allows creating a property that can be edited in your modules section of the material properties.  If checked the <code>Is Constant</code> checkbox will cause the value to be used directly and it will not be available for editing in the inspector. </p> <p>The type of property can be selected from the dropdown. The name used in the material properties can be found and edited in the upper text box.</p>"},{"location":"nodes/#property-drawers","title":"Property Drawers","text":"<p>You can use property names with one or more <code>/</code>'s in them to create folders in the output property as can be seen in the examples below. </p>"},{"location":"nodes/#float-range","title":"Float Range","text":"<p>A special case UI is available for the float property type. If you enable <code>Use Float Range</code> you will be able to set a range for the node and get a slider in your shader. This can be seen in the image above.</p>"},{"location":"nodes/#texture-poiyomi-controls","title":"Texture - Poiyomi controls","text":"<p>Create a new texture that is configured like it would be if it was a built in Poiyomi texture.</p>"},{"location":"nodes/#uv-texture-sample","title":"UV Texture Sample","text":"<p>This samples a texture that is sampled by the provided UVs.</p>"},{"location":"nodes/#audiolink-simple-sample","title":"AudioLink Simple Sample","text":"<p>Sample the AudioLink intensity for individual bands at a particular point in time. Has Audio Link is 1 if audio link is active at the moment.</p>"},{"location":"nodes/#audiolink-chrono","title":"AudioLink Chrono","text":"<p>Sample the AudioLink Chrono values. The output acts roughly like time modified in the ways that the dropdowns suggest.</p>"},{"location":"nodes/#gradient","title":"Gradient","text":"<p>Create a new texture to act as a gradient including the Poiyomi built in gradient editor. </p>"},{"location":"nodes/#uvlogic","title":"UVLogic","text":"<p>Sample UVS. This provides an interface like you would expect to find on a texture.</p>"},{"location":"nodes/#global-mask","title":"Global Mask","text":"<p>This node provides access to the global masks you are use to in Poi. While there isn't much to see in the node editor the inspector uses the same dropdown that you can find in many other places in the shader.</p> Note that this node is not currently compatiable with the Preview Node"},{"location":"nodes/#read-property","title":"Read Property","text":"<p>Just as the Poi Output node allows you to write properties this node enables you to read from them. This when used with the global mask node enables you to disable your node for certain parts of the mesh.</p> Note that this node is not currently compatible with the Preview Node"},{"location":"nodes/#camera-distance-proximity","title":"Camera Distance / Proximity","text":"<p>This node provides the distance a pixel is from the camera.</p> <p>The world output is in world space. The object output is in local space to the object and it is effected by object scale.</p> Note that this node is not currently compatible with the Preview Node"},{"location":"nodes/#vertex-normal","title":"Vertex Normal","text":"<p>This node enables both the fragment and vertex stage to access the vertex normal data.</p> <p>The nodes provide normal, tangent, and the bi-normal (cross product of normal and tangent).</p>"},{"location":"nodes/#vertex-position","title":"Vertex Position","text":"<p>This node enables access to the vertex position and offsets.</p> <p>Local Offset is the extra offset applied by the shader.</p> <p>Object Position is the offset when compared to the origin of the object.</p> <p>World Position is as expected the offset from the world origin.</p>"},{"location":"nodes/#trig","title":"Trig","text":""},{"location":"nodes/#sine-cosine-tangent","title":"Sine / Cosine / Tangent","text":"<p>Each of these functions takes one input in radians and returns a value according to normal trig rules.</p>"},{"location":"nodes/#arcsine-arccosine-arctangent","title":"ArcSine / ArcCosine / ArcTangent","text":"<p>Each of these functions takes one input and returns a value according to normal trig rules.</p>"},{"location":"nodes/#atan2","title":"ATan2","text":"<p>This is a specialized version of Arc Tangent that takes 2 values and can determine which angle the value belongs to. The normal Arc Tangent can't determine a difference between 45 and 135 degrees for instance. This can give the confusing results in those cases, but <code>atan2</code> uses the fact that it gets 2 values in to differentiate these cases.</p>"},{"location":"nodes/#todegrees-toradians","title":"ToDegrees / ToRadians","text":"<p>Convert values between degrees and radians depending on the node selected</p>"},{"location":"nodes/#output","title":"Output","text":""},{"location":"nodes/#poimoduleoutput","title":"PoiModuleOutput","text":"<p>This is a special node that you can not delete or copy.</p> <p>This node is used to interact with the larger Poiyomi shader and set values used elsewhere in the shader. </p>"},{"location":"nodes/#normal-output","title":"Normal Output","text":"<p>This node enables you to edit the normals for both the vertex stage and the fragment stage. These do not combine with the existing normals and instead override them. Use the Normal Input node if you want to combine with them.</p> <p>As suggested by the names both the Frag and Vertex normals are in world space.</p>"},{"location":"nodes/#vertex-position-output","title":"Vertex Position Output","text":"<p>This node lets you set the local offset (in object space) for the node. Combine this with the vertex position input node of you want to keep pre-existing transforms.</p>"},{"location":"nodes/#preview","title":"Preview","text":"<p>This node allows for viewing of previews of parts of the shader to help visualize the logic.  To use it plug any node in to its input. Float nodes will be shown in black and white. Vector2 and Vector3 nodes will be shown by replacing RGB with their corresponding XYZ values. The alpha channel for Vector4s are set to fully opaque to make it possible to view the preview.</p> <p>The preview node can not handle the ReadProperty , Global Mask, or Camera Distance node. Using them in a will result in an error and either the shader being pink or not generating at all. </p> <p>To get audio link working with this node you will need to be in play mode. Updates to the module often break AudioLink. Toggling the Audio Link source in unity on and off resolves the issue.</p> <p>The Debug Panel is for internal use and will change in the future, but you may find it helpful.</p>"},{"location":"nodes/lerp/","title":"Lerp Deep Dive","text":"<p>This is the lerp node. As indicated by it's title you may want to think about it as the Mix or Blend node from other software.</p> <p>While the examples given below are only for single values each element in a vector (such as a float4 that is used for color data) is operated on independently.</p> <p>This node mixes the values between the low and high value assuming the input to <code>Factor</code> is between 0 and 1. </p>"},{"location":"nodes/lerp/#simple-examples","title":"Simple Examples","text":"<p>Above you can see an example of the outputs of Lerp where the low was 0 and the high is 1.  Notice the green area. This denotes the area where the factor is between 0 and 1. Also notice that the output follows a line that continues outside of the given range. This is not an error. </p> <p>You should either consider how to handle factor values that are out of the normal bounds or send them through a saturate to keep them in the \"normal\" bounds.</p> <p>Let's see another one.</p> <p></p> <p>In this one we are lerping from 3 to 1. Notice that the high value is less than the low value. This is fine. That just means larger factors get us a smaller value. As we can see this line also continues out of the normal bounds.</p>"}]}